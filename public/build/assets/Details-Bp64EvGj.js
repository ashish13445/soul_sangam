import{_ as x}from"./soul-CCuP3GLf.js";import{d as i}from"./index-Dpe24yuA.js";import{l as y}from"./index-DySp1qp_.js";import{aM as l,aE as d,s as k,bx as g,u as w,v as t,b3 as o,H as u,t as C,ci as p}from"./app-CJsJeg_o.js";import{_ as I}from"./GuestLayout-UJPy2ZSP.js";import"./ResponsiveNavLink-DvRbVSIq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={key:0,class:"w-screen"},D={class:"bg-white rounded m-10"},E=t("img",{src:x,class:"w-full h-80 object-cover"},null,-1),N={class:"m-10"},S={class:"font-extrabold text-4xl"},V={class:"font-bold text-2xl py-2"},K={class:"text-gray-400"},R={class:"font-bold text-2xl py-2"},F={class:"text-gray-400"},P="pk_test_51K4koBSFlDb60EYrJRKOY4WRI0xp460rrhIZPW8XuVChtvmviOFyZUXq0EnNKLIaqzI1AkJik70iFvW1NNCiP1H700RCxV3kwh",X={__name:"Details",props:["event"],setup(h){const r=h,s=l(r.event),_=y(P),a=l(!1),m=async()=>{try{return(await p.get("/api/user")).data.authenticated}catch{return!1}},v=async()=>{a.value=!0;try{if(await m()){const n=await p.post("/create-checkout-session",{event_id:r.event.id}),{id:b}=n.data,f=await _,{error:c}=await f.redirectToCheckout({sessionId:b});c&&console.error("Error redirecting to checkout:",c)}else{i.Inertia.remember(),i.Inertia.visit("/login",{preserveState:!0,preserveScroll:!0});return}}catch(e){console.error("Error during authentication or checkout:",e)}finally{a.value=!1}};return(e,n)=>(d(),k(I,null,{default:g(()=>[s.value?(d(),w("div",B,[t("div",D,[E,t("div",N,[t("h1",S,o(s.value.name),1),t("p",V,[u("Date: "),t("span",K,o(new Date(s.value.date).toDateString()),1)]),t("p",R,[u("City: "),t("span",F,o(s.value.city),1)]),t("div",null,[t("button",{onClick:v,class:"my-2 bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"}," Buy Ticket ")])])])])):C("",!0)]),_:1}))}};export{X as default};
